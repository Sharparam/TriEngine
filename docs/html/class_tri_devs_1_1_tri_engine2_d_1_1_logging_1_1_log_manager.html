<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>TriEngine2D: TriDevs.TriEngine2D.Logging.LogManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TriEngine2D
   &#160;<span id="projectnumber">v0.0.13</span>
   </div>
   <div id="projectbrief">2D general-purpose engine in C#/OpenGL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TriDevs.TriEngine2D.Logging.LogManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage logging. ILog interfaces should be obtained from this class' methods, as opposed to calling default log4net methods.  
 <a href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac3fa271dd594c78c0ace7bd28f0b3309"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#ac3fa271dd594c78c0ace7bd28f0b3309">LoadConfig</a> (string file=null)</td></tr>
<tr class="memdesc:ac3fa271dd594c78c0ace7bd28f0b3309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a config to use with log4net.  <a href="#ac3fa271dd594c78c0ace7bd28f0b3309">More...</a><br/></td></tr>
<tr class="separator:ac3fa271dd594c78c0ace7bd28f0b3309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a92793a69df04598de7e2ef26525b9"><td class="memItemLeft" align="right" valign="top">static ILog&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#a08a92793a69df04598de7e2ef26525b9">GetLogger</a> (object sender)</td></tr>
<tr class="memdesc:a08a92793a69df04598de7e2ef26525b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an ILog object for the specified object.  <a href="#a08a92793a69df04598de7e2ef26525b9">More...</a><br/></td></tr>
<tr class="separator:a08a92793a69df04598de7e2ef26525b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674a0fcc99cd6101fbe655e626d3f24b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#a674a0fcc99cd6101fbe655e626d3f24b">SetupConsole</a> ()</td></tr>
<tr class="memdesc:a674a0fcc99cd6101fbe655e626d3f24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a new console for this process. Will not set up a console if a debugger is attached. This method does nothing if DEBUG is not #defined.  <a href="#a674a0fcc99cd6101fbe655e626d3f24b">More...</a><br/></td></tr>
<tr class="separator:a674a0fcc99cd6101fbe655e626d3f24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08e7d3ce6fce68baddeef73861bce50"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#aa08e7d3ce6fce68baddeef73861bce50">DestroyConsole</a> ()</td></tr>
<tr class="memdesc:aa08e7d3ce6fce68baddeef73861bce50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the console associated with the process, if loaded. This method does nothing if DEBUG is not #defined.  <a href="#aa08e7d3ce6fce68baddeef73861bce50">More...</a><br/></td></tr>
<tr class="separator:aa08e7d3ce6fce68baddeef73861bce50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869d712123422786e4e6f738bb68bee1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#a869d712123422786e4e6f738bb68bee1">ClearOldLogs</a> (int daysOld=7, string logsDir=&quot;logs&quot;)</td></tr>
<tr class="memdesc:a869d712123422786e4e6f738bb68bee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear logs that are older than the specified amount of days.  <a href="#a869d712123422786e4e6f738bb68bee1">More...</a><br/></td></tr>
<tr class="separator:a869d712123422786e4e6f738bb68bee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage logging. ILog interfaces should be obtained from this class' methods, as opposed to calling default log4net methods. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a869d712123422786e4e6f738bb68bee1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TriDevs.TriEngine2D.Logging.LogManager.ClearOldLogs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>daysOld</em> = <code>7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>logsDir</em> = <code>&quot;logs&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear logs that are older than the specified amount of days. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">daysOld</td><td>Logs older than this amount of days will be deleted.</td></tr>
    <tr><td class="paramname">logsDir</td><td>The directory to clear.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            var log = <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#a08a92793a69df04598de7e2ef26525b9" title="Gets an ILog object for the specified object. ">GetLogger</a>(typeof(LogManager));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            log.InfoFormat(<span class="stringliteral">&quot;&gt;&gt; ClearOldLogs({0}, \&quot;{1}\&quot;)&quot;</span>, daysOld, logsDir);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(logsDir))</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                log.InfoFormat(<span class="stringliteral">&quot;Directory {0} not found, no logs to clear&quot;</span>, logsDir);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                log.Info(<span class="stringliteral">&quot;&lt;&lt; ClearOldLogs()&quot;</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            var now = DateTime.Now;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            var max = <span class="keyword">new</span> TimeSpan(daysOld, 0, 0, 0);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            var count = 0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">foreach</span> (var file <span class="keywordflow">in</span> from file <span class="keywordflow">in</span> Directory.GetFiles(logsDir)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                 let modTime = File.GetLastAccessTime(file)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                 let age = now.Subtract(modTime)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                 where age &gt; max</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                 select file)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">try</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    File.Delete(file);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    log.InfoFormat(<span class="stringliteral">&quot;Deleted old log file: {0}&quot;</span>, file);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    count++;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">catch</span> (IOException ex)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    log.WarnFormat(<span class="stringliteral">&quot;Failed to delete log file: {0} ({1})&quot;</span>, file, ex.Message);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            log.InfoFormat(<span class="stringliteral">&quot;Done! Cleared {0} log files.&quot;</span>, count);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            log.Info(<span class="stringliteral">&quot;&lt;&lt; ClearOldLogs()&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa08e7d3ce6fce68baddeef73861bce50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TriDevs.TriEngine2D.Logging.LogManager.DestroyConsole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the console associated with the process, if loaded. This method does nothing if DEBUG is not #defined. </p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">if</span> (_consoleLoaded)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html" title="Holds various WinAPI stuff. ">WinAPI</a>.<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html#a14d148cdaa742fd0d25fd962f6c1f8c4" title="Detaches the calling process from its console. ">FreeConsole</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor"></span>        }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager_aa08e7d3ce6fce68baddeef73861bce50_cgraph.svg" width="432" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a08a92793a69df04598de7e2ef26525b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ILog TriDevs.TriEngine2D.Logging.LogManager.GetLogger </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets an ILog object for the specified object. </p>
<p>To get the logger object for a static class, or from static context, call GetLogger(typeof(YourClass)). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>The object or Type to get an ILog object for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ILog object.</dd></dl>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">if</span> (!_loaded)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#ac3fa271dd594c78c0ace7bd28f0b3309" title="Load a config to use with log4net. ">LoadConfig</a>();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">return</span> log4net.LogManager.GetLogger(sender.GetType().ToString() == <span class="stringliteral">&quot;System.RuntimeType&quot;</span> ? (Type)sender : sender.GetType());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3fa271dd594c78c0ace7bd28f0b3309"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TriDevs.TriEngine2D.Logging.LogManager.LoadConfig </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>file</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load a config to use with log4net. </p>
<p>LoadConfig will first try to load the specified file, if not null. If it is unable to find the specified file, it will call itself again with file set to null. If no file is specified, it will attempt to load a config file following the pattern: "(AssemblyName).config" If it is unable to load the config, it will default to BasicConfigurator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The config file to load, null if automatic loading is preferred.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordflow">if</span> (file == null)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span> (File.Exists(AppDomain.CurrentDomain.FriendlyName + <span class="stringliteral">&quot;.config&quot;</span>))</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    XmlConfigurator.Configure();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    BasicConfigurator.Configure();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="keywordflow">if</span> (File.Exists(file))</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    XmlConfigurator.Configure(<span class="keyword">new</span> FileInfo(file));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html#ac3fa271dd594c78c0ace7bd28f0b3309" title="Load a config to use with log4net. ">LoadConfig</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            _loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a674a0fcc99cd6101fbe655e626d3f24b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TriDevs.TriEngine2D.Logging.LogManager.SetupConsole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up a new console for this process. Will not set up a console if a debugger is attached. This method does nothing if DEBUG is not #defined. </p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">if</span> (System.Diagnostics.Debugger.IsAttached)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html" title="Holds various WinAPI stuff. ">WinAPI</a>.<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html#a00f0889a729e989fbefd8267a20a1c06" title="Allocates a new console for the calling process. ">AllocConsole</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            var stdHandle = <a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html" title="Holds various WinAPI stuff. ">WinAPI</a>.<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html#a7617bf77270291625f566cf21294d518" title="Retrieves a handle to the specified standard device (standard input, standard output, or standard error). ">GetStdHandle</a>(<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html" title="Holds various WinAPI stuff. ">WinAPI</a>.<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html#a19ebb40d1edf46781ea0fdf4a9c94e8b" title="The standard output device. Initially, this is the active console screen buffer, CONOUT$. ">STD_OUTPUT_HANDLE</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            var safeFileHandle = <span class="keyword">new</span> SafeFileHandle(stdHandle, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            var fileStream = <span class="keyword">new</span> FileStream(safeFileHandle, FileAccess.Write);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            var encoding = Encoding.GetEncoding(<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html" title="Holds various WinAPI stuff. ">WinAPI</a>.<a class="code" href="class_tri_devs_1_1_tri_engine2_d_1_1_native_1_1_win_a_p_i.html#a83ef0d2539e95cc640d8e1f1216beec5" title="The code page to use for the console. ">CODE_PAGE</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            var stdOut = <span class="keyword">new</span> StreamWriter(fileStream, encoding) { AutoFlush = <span class="keyword">true</span> };</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            Console.SetOut(stdOut);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            _consoleLoaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor"></span>        }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager_a674a0fcc99cd6101fbe655e626d3f24b_cgraph.svg" width="432" height="116"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TriDevs.TriEngine2D/Logging/<a class="el" href="_log_manager_8cs.html">LogManager.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_tri_devs.html">TriDevs</a></li><li class="navelem"><a class="el" href="namespace_tri_devs_1_1_tri_engine2_d.html">TriEngine2D</a></li><li class="navelem"><a class="el" href="namespace_tri_devs_1_1_tri_engine2_d_1_1_logging.html">Logging</a></li><li class="navelem"><a class="el" href="class_tri_devs_1_1_tri_engine2_d_1_1_logging_1_1_log_manager.html">LogManager</a></li>
    <li class="footer">Generated on Sun Mar 31 2013 17:31:12 for TriEngine2D by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
